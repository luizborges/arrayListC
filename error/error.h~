/**
 */
#ifndef ERROR_H
#define ERROR_H

#ifdef __cplusplus
extern "C" {
#endif

////////////////////////////////////////////////////////////////////////////////
// Includes
////////////////////////////////////////////////////////////////////////////////
#include <stdio.h>
#include <stdlib.h>
#include <stdarg.h>
#include <time.h>

////////////////////////////////////////////////////////////////////////////////
// Defines
////////////////////////////////////////////////////////////////////////////////
#if defined(__GNUC__)

#define Error(...) \
  Error_(__FILE__, __LINE__, __PRETTY_FUNCTION__, __VA_ARGS__);

#define MError(...) \
  MError_(__FILE__, __LINE__, __PRETTY_FUNCTION__, __VA_ARGS__);

#define Warn(...) \
  Warn_(__FILE__, __LINE__, __PRETTY_FUNCTION__, __VA_ARGS__);


#elif defined(_MSC_VER) // compilaor da microsoft

#define Error(...) \
  Error_(__FILE__, __LINE__, __FUNCSIG__, __VA_ARGS__);

#define MError(...) \
  MError_(__FILE__, __LINE__, __FUNCSIG__, __VA_ARGS__);

#define Warn(...) \
  Warn_(__FILE__, __LINE__, __FUNCSIG__, __VA_ARGS__);

#else

#define Error(...) \
  Error_(__FILE__, __LINE__, __func__, __VA_ARGS__);

#define MError(...) \
  MError_(__FILE__, __LINE__, __func__, __VA_ARGS__);

#define Warn(...) \
  Warn_(__FILE__, __LINE__, __func__, __VA_ARGS__);

#endif

////////////////////////////////////////////////////////////////////////////////
// Structs
////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////
// Typedefs
////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////
// Constructs
////////////////////////////////////////////////////////////////////////////////



////////////////////////////////////////////////////////////////////////////////
// Functions
////////////////////////////////////////////////////////////////////////////////
/**
 * Depois de imprimir a mensagem de erro, executa a função: abort();
 */
extern void Error_(const char *file, const int line,
                   const char *func, ...);

/**
 * Apenas imprime a mensagem de erro.
 * Mensage Error
 */
extern void MError_(const char *file, const int line,
                    const char *func, ...);

/**
 * Apenas imprime a mensagem de warning.
 * Mensage Warning
 */
extern void Warn_(const char *file, const int line,
                  const char *func, ...);


#ifdef __cplusplus
}
#endif
#endif // ERROR_H

////////////////////////////////////////////////////////////////////////////////
//
////////////////////////////////////////////////////////////////////////////////





